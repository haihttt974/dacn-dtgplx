@{
    Layout = "_Layout";
    var email = Context.Session.GetString("OTP_Email");
}

<div class="row justify-content-center mt-5">
    <div class="col-md-6 col-lg-4">

        <div class="card shadow-lg border-0 rounded-4">
            <div class="card-body p-4">

                <h5 class="text-center mb-2 fw-bold text-primary">
                    Xác minh OTP
                </h5>

                <p class="text-center text-muted mb-3">
                    Mã OTP đã gửi đến email:
                    <strong>@email</strong>
                </p>

                <p class="text-center text-danger fw-bold mb-3" id="timer">
                    60s
                </p>

                <form asp-action="VerifyOtp" method="post">
                    <div class="form-floating mb-3">
                        <input name="otp" class="form-control" maxlength="6" placeholder="OTP" required />
                        <label>Nhập mã OTP</label>
                    </div>

                    <button class="btn btn-success w-100 fw-semibold">
                        Xác nhận OTP
                    </button>
                </form>

                <script>
                    let time = 60;
                    let timer = setInterval(() => {
                        time--;
                        document.getElementById("timer").innerText = time + "s";
                        if (time <= 0) {
                            clearInterval(timer);
                            document.getElementById("timer").innerText = "OTP đã hết hạn!";
                        }
                    }, 1000);
                </script>

            </div>
        </div>
    </div>
</div>
